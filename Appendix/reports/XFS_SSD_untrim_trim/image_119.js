

// Set up the chart
var image_119_chart;
$(document).ready(function () {
    Highcharts.setOptions({ // Apply to all charts
        chart: {
            events: {
                beforePrint: function () {
                    this.oldhasUserSize = this.hasUserSize;
                    this.resetParams = [this.chartWidth, this.chartHeight, false];
                    this.setSize(550, 550, false);
                },
                afterPrint: function () {
                    this.setSize.apply(this, this.resetParams);
                    this.hasUserSize = this.oldhasUserSize;
                }
            }
        }
    });

image_119_chart= new Highcharts.Chart({

  chart: {
    renderTo: 'image_119',
    margin: 100,
    type: 'column',
    width: 550,
    height: 550,
    options3d: {
      enabled: true,
      alpha: 10,
      beta: 30,
      depth: 315,
      viewDistance: 5,
      fitToPlot: true,
      frame: {
        bottom: {
          size: 1,
          color: 'rgba(0,0,0,0.02)'
        },
        back: {
          size: 1,
          color: 'rgba(0,0,0,0.04)'
        },
        side: {
          size: 1,
          color: 'rgba(0,0,0,0.06)'
        }
      }
    }
  },
  title: {
    text: 'Evolution of free space fragmentation'
  },

  plotOptions: {
    column: {
      stacking: true,
      grouping: false,
      groupZPadding: 0,
      groupXPadding: 0,
      depth: 5
    }
  },
  yAxis: {

    min: 0.1,
    title: {text: 'Number of extents'}
  },
  xAxis: {
    categories: ['  4-  4KiB', '  8- 12KiB', ' 16- 28KiB', ' 32- 60KiB', ' 64-124KiB', '128-252KiB', '256-508KiB', '512-1020KiB', '  1-  1MiB', '  2-  3MiB', '  4-  7MiB', '  8- 15MiB', ' 16- 31MiB', ' 32- 63MiB', ' 64-127MiB', '  4-  7GiB', '  8- 15GiB', ' 16- 27GiB'],
    gridLineWidth: 1,
title: {text: 'Extent size'}
  },
  zAxis: {
title: {text: 'Time'},
categories: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44],
    showFirstLabel: false

  },
  legend: {
    enabled: false
  },
  series: [{
stack: 0,
data:[[0,17],[17,4],]},{
stack: 1,
data:[[0,18],[1,1],[2,1],[3,1],[4,1],[6,1],[17,4],]},{
stack: 2,
data:[[0,18],[1,1],[3,1],[6,1],[7,1],[17,4],]},{
stack: 3,
data:[[0,23],[2,2],[6,1],[16,2],[17,2],]},{
stack: 4,
data:[[0,21],[1,2],[6,2],[8,1],[15,2],[16,1],[17,1],]},{
stack: 5,
data:[[0,22],[1,1],[4,1],[16,1],[17,1],]},{
stack: 6,
data:[[0,21],[1,1],[2,2],[3,2],[16,1],]},{
stack: 7,
data:[[0,33],[1,2],[2,4],[3,1],[4,2],[5,1],[12,1],]},{
stack: 8,
data:[[0,23055],[1,6498],[2,4842],[3,3956],[4,3100],[5,2137],[6,1367],[7,796],[8,373],[9,175],[10,65],[11,15],]},{
stack: 9,
data:[[0,39408],[1,13405],[2,9153],[3,7596],[4,6074],[5,4487],[6,2908],[7,1812],[8,933],[9,402],[10,169],[11,86],[12,36],[13,17],[14,1],]},{
stack: 10,
data:[[0,33336],[1,11439],[2,7764],[3,6265],[4,4881],[5,3399],[6,1649],]},{
stack: 11,
data:[[0,46680],[1,18053],[2,11948],[3,9839],[4,7776],[5,5528],[6,2837],[7,1224],[8,588],[9,297],[10,159],[11,84],[12,41],]},{
stack: 12,
data:[[0,54217],[1,23994],[2,15622],[3,12795],[4,10292],[5,7584],[6,4497],[7,2331],[8,1113],[9,591],[10,321],[11,151],[12,23],]},{
stack: 13,
data:[[0,49441],[1,22403],[2,14459],[3,11759],[4,9322],[5,6901],[6,3842],[7,1780],[8,292],]},{
stack: 14,
data:[[0,55650],[1,27445],[2,17989],[3,14431],[4,11742],[5,8810],[6,5358],[7,2991],[8,799],[9,298],[10,139],[11,72],[12,30],[13,7],]},{
stack: 15,
data:[[0,49227],[1,25040],[2,16195],[3,13025],[4,10409],[5,7727],[6,3339],]},{
stack: 16,
data:[[0,56704],[1,29743],[2,19657],[3,16145],[4,12971],[5,9701],[6,4885],[7,1417],[8,614],[9,387],[10,191],[11,91],[12,23],]},{
stack: 17,
data:[[0,50099],[1,27475],[2,18110],[3,14677],[4,11634],[5,8502],[6,412],]},{
stack: 18,
data:[[0,58390],[1,32285],[2,21948],[3,17937],[4,14415],[5,9832],[6,2633],[7,1479],[8,812],[9,426],[10,217],[11,29],]},{
stack: 19,
data:[[0,51908],[1,30464],[2,20605],[3,16534],[4,12719],[5,3477],]},{
stack: 20,
data:[[0,58323],[1,34006],[2,23485],[3,18925],[4,14968],[5,4857],[6,2258],[7,1387],[8,874],[9,424],[10,213],[11,96],]},{
stack: 21,
data:[[0,51975],[1,32168],[2,22065],[3,17346],[4,11394],]},{
stack: 22,
data:[[0,57923],[1,34974],[2,24457],[3,19418],[4,11639],[5,3930],[6,3203],[7,1446],[8,712],[9,349],[10,153],[11,52],[12,4],]},{
stack: 23,
data:[[0,59770],[1,37267],[2,26351],[3,21218],[4,14092],[5,7123],[6,5202],[7,2542],[8,1374],[9,600],[10,329],[11,71],]},{
stack: 24,
data:[[0,54553],[1,35106],[2,25014],[3,19867],[4,13277],[5,6716],[6,4784],[7,1402],[8,18],]},{
stack: 25,
data:[[0,57723],[1,37040],[2,26840],[3,21536],[4,15817],[5,9081],[6,6605],[7,2219],[8,703],[9,421],[10,173],[11,74],[13,2],]},{
stack: 26,
data:[[0,51929],[1,34954],[2,25513],[3,20404],[4,14856],[5,8250],[6,2841],]},{
stack: 27,
data:[[0,55733],[1,36661],[2,27096],[3,21897],[4,16479],[5,10180],[6,3835],[7,1400],[8,854],[9,346],[10,189],[11,85],[12,19],]},{
stack: 28,
data:[[0,49480],[1,34524],[2,25487],[3,20475],[4,15208],[5,7200],]},{
stack: 29,
data:[[0,54481],[1,36297],[2,27389],[3,22185],[4,17317],[5,9733],[6,2909],[7,1408],[8,682],[9,343],[10,155],[11,73],[12,10],]},{
stack: 30,
data:[[0,47267],[1,33773],[2,25461],[3,20491],[4,15438],[5,2934],]},{
stack: 31,
data:[[0,52723],[1,35236],[2,26763],[3,21816],[4,17062],[5,6292],[6,2936],[7,1582],[8,830],[9,330],[10,139],[11,44],]},{
stack: 32,
data:[[0,45861],[1,32951],[2,25287],[3,20055],[4,10364],]},{
stack: 33,
data:[[0,53575],[1,35466],[2,27094],[3,21950],[4,10458],[5,4630],[6,2842],[7,1790],[8,836],[9,401],[10,179],[11,20],]},{
stack: 34,
data:[[0,46996],[1,33451],[2,25733],[3,20212],[4,3987],]},{
stack: 35,
data:[[0,54460],[1,35873],[2,27365],[3,22005],[4,6155],[5,4130],[6,2689],[7,1784],[8,777],[9,415],[10,269],[11,1],]},{
stack: 36,
data:[[0,46999],[1,33550],[2,25791],[3,16683],]},{
stack: 37,
data:[[0,52790],[1,35365],[2,27063],[3,14143],[4,5162],[5,3776],[6,2524],[7,1299],[8,906],[9,353],[10,195],[11,26],]},{
stack: 38,
data:[[0,56253],[1,37228],[2,28326],[3,17095],[4,9199],[5,7080],[6,5076],[7,3237],[8,1501],[9,731],[10,222],]},{
stack: 39,
data:[[0,49347],[1,34629],[2,26631],[3,15926],[4,8495],[5,6599],[6,4522],[7,2056],[8,4],]},{
stack: 40,
data:[[0,53702],[1,36037],[2,27780],[3,18381],[4,12466],[5,9800],[6,6605],[7,2782],[8,850],[9,382],[10,129],[11,61],]},{
stack: 41,
data:[[0,46295],[1,33184],[2,26022],[3,17153],[4,11395],[5,8936],[6,3986],]},{
stack: 42,
data:[[0,53072],[1,35075],[2,27443],[3,19430],[4,14503],[5,11182],[6,5626],[7,2296],[8,861],[9,390],[10,140],]},{
stack: 43,
data:[[0,45371],[1,32645],[2,25970],[3,18072],[4,13305],[5,8428],]},{
stack: 44,
data:[[0,51695],[1,34546],[2,27241],[3,20172],[4,16256],[5,10294],[6,3633],[7,1616],[8,905],[9,312],[10,152],[11,28],]},]
});


// Add mouse events for rotation
$(image_119_chart.container).on('mousedown.hc touchstart.hc', function(eStart) {
  eStart = image_119_chart.pointer.normalize(eStart);

  var posX = eStart.pageX,
    posY = eStart.pageY,
    alpha = image_119_chart.options.chart.options3d.alpha,
    beta = image_119_chart.options.chart.options3d.beta,
    newAlpha,
    newBeta,
    sensitivity = 5; // lower is more sensitive

  $(document).on({
    'mousemove.hc touchdrag.hc': function(e) {
      // Run beta
      newBeta = beta + (posX - e.pageX) / sensitivity;
      image_119_chart.options.chart.options3d.beta = newBeta;

      // Run alpha
      newAlpha = alpha + (e.pageY - posY) / sensitivity;
      image_119_chart.options.chart.options3d.alpha = newAlpha;

      image_119_chart.redraw(false);
    },
    'mouseup touchend': function() {
      $(document).off('.hc');
    }
  });

var image_119_button = $('#container').highcharts(),
        type = 1,
        types = ['linear', 'logarithmic'],
        lineColor = 'red';

    $('#image_119_button').click(function () {image_119.yAxis[0].update({
            type: types[type]
        });
type += 1;
        if (type === types.length) {
            type = 0;
        }
    });});
});

