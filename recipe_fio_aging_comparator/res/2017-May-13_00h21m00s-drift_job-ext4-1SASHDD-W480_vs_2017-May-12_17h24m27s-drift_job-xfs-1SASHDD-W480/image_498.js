

// Set up the chart
var image_498_chart;
$(document).ready(function () {
    Highcharts.setOptions({ // Apply to all charts
        chart: {
            events: {
                beforePrint: function () {
                    this.oldhasUserSize = this.hasUserSize;
                    this.resetParams = [this.chartWidth, this.chartHeight, false];
                    this.setSize(550, 550, false);
                },
                afterPrint: function () {
                    this.setSize.apply(this, this.resetParams);
                    this.hasUserSize = this.oldhasUserSize;
                }
            }
        }
    });

image_498_chart= new Highcharts.Chart({

  chart: {
    renderTo: 'image_498',
    margin: 100,
    type: 'column',
    width: 900,
    height: 900,
    options3d: {
      enabled: true,
      alpha: 10,
      beta: 30,
      depth: 420,
      viewDistance: 5,
      fitToPlot: true,
      frame: {
        bottom: {
          size: 1,
          color: 'rgba(0,0,0,0.02)'
        },
        back: {
          size: 1,
          color: 'rgba(0,0,0,0.04)'
        },
        side: {
          size: 1,
          color: 'rgba(0,0,0,0.06)'
        }
      }
    }
  },
  title: {
    text: 'Draggable box'
  },
  subtitle: {
    text: 'Click and drag the plot area to rotate in space'
  },
  plotOptions: {
    column: {
      stacking: true,
      grouping: false,
      groupZPadding: 0,
      groupXPadding: 0,
      depth: 5
    }
  },
  yAxis: {

    min: 0.1,
    title: {text: 'Number of extents'}
  },
  xAxis: {
    categories: ['4K-8K', '8K-16K', '16K-32K', '32K-64K', '64K-128K', '128K-256K', '256K-512K', '512K-1024K', '1M-2M', '2M-4M', '4M-8M', '8M-16M', '16M-32M', '32M-64M', '64M-128M', '128M-256M', '256M-512M', '512M-1024M', '1G-2G'],
    gridLineWidth: 1,
title: {text: 'Extent size'}
  },
  zAxis: {
title: {text: 'Time'},
categories: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59],
    showFirstLabel: false

  },
  legend: {
    enabled: false
  },
  series: [{
stack: 0,
data:[[3,2],[14,6],[15,5],[16,2],[17,7],[18,278],]},{
stack: 1,
data:[[2,1],[3,3],[4,5],[5,8],[6,6],[7,6],[8,12],[9,6],[10,7],[14,10],[15,1],[16,3],[17,6],[18,277],]},{
stack: 2,
data:[[0,1],[1,1],[2,1],[3,4],[4,7],[5,18],[6,8],[7,9],[8,18],[9,9],[10,9],[14,11],[16,2],[17,6],[18,276],]},{
stack: 3,
data:[[0,2],[2,1],[3,4],[4,9],[5,23],[6,14],[7,12],[8,19],[9,11],[10,15],[14,11],[16,2],[17,7],[18,274],]},{
stack: 4,
data:[[0,3],[2,1],[3,2],[4,9],[5,27],[6,23],[7,14],[8,26],[9,13],[10,17],[14,13],[16,2],[17,8],[18,271],]},{
stack: 5,
data:[[0,1],[1,1],[2,1],[3,3],[4,10],[5,34],[6,32],[7,14],[8,29],[9,13],[10,23],[14,13],[16,5],[17,5],[18,270],]},{
stack: 6,
data:[[0,5],[1,2],[2,1],[3,3],[4,11],[5,42],[6,32],[7,22],[8,31],[9,20],[10,28],[14,14],[15,2],[16,2],[17,6],[18,268],]},{
stack: 7,
data:[[0,8],[1,3],[2,2],[3,3],[4,15],[5,44],[6,33],[7,23],[8,34],[9,25],[10,30],[14,18],[16,1],[17,6],[18,267],]},{
stack: 8,
data:[[0,9],[1,2],[3,5],[4,15],[5,45],[6,36],[7,25],[8,38],[9,27],[10,34],[14,19],[16,1],[17,6],[18,266],]},{
stack: 9,
data:[[0,16],[1,4],[2,3],[3,4],[4,16],[5,53],[6,41],[7,27],[8,45],[9,30],[10,39],[14,20],[16,1],[17,7],[18,264],]},{
stack: 10,
data:[[0,21],[1,2],[2,4],[3,5],[4,16],[5,51],[6,44],[7,34],[8,48],[9,30],[10,42],[14,21],[16,2],[17,8],[18,261],]},{
stack: 11,
data:[[0,28],[1,2],[2,4],[3,6],[4,17],[5,58],[6,47],[7,40],[8,56],[9,31],[10,47],[14,22],[16,3],[17,7],[18,260],]},{
stack: 12,
data:[[0,37],[1,3],[2,4],[3,5],[4,20],[5,67],[6,53],[7,40],[8,56],[9,34],[10,50],[13,3],[14,22],[16,3],[17,5],[18,259],]},{
stack: 13,
data:[[0,51],[1,2],[2,5],[3,5],[4,21],[5,74],[6,60],[7,42],[8,64],[9,42],[10,52],[12,2],[13,3],[14,24],[17,5],[18,258],]},{
stack: 14,
data:[[0,59],[1,4],[2,5],[3,6],[4,23],[5,80],[6,63],[7,49],[8,70],[9,46],[10,54],[12,1],[13,3],[14,26],[17,6],[18,256],]},{
stack: 15,
data:[[0,72],[1,5],[2,5],[3,5],[4,25],[5,84],[6,71],[7,48],[8,72],[9,52],[10,57],[12,1],[13,3],[14,27],[17,6],[18,255],]},{
stack: 16,
data:[[0,86],[1,5],[2,6],[3,6],[4,28],[5,88],[6,77],[7,54],[8,77],[9,53],[10,64],[12,1],[13,3],[14,28],[16,1],[17,8],[18,251],]},{
stack: 17,
data:[[0,100],[1,6],[2,7],[3,7],[4,31],[5,94],[6,77],[7,61],[8,77],[9,59],[10,68],[12,3],[13,1],[14,30],[17,8],[18,250],]},{
stack: 18,
data:[[0,110],[1,9],[2,6],[3,7],[4,32],[5,98],[6,84],[7,62],[8,84],[9,60],[10,73],[12,4],[14,31],[15,1],[16,3],[17,4],[18,249],]},{
stack: 19,
data:[[0,130],[1,8],[2,6],[3,9],[4,34],[5,103],[6,87],[7,64],[8,93],[9,61],[10,78],[11,1],[12,3],[14,35],[17,4],[18,248],]},{
stack: 20,
data:[[0,145],[1,13],[2,6],[3,11],[4,34],[5,108],[6,92],[7,70],[8,97],[9,63],[10,83],[11,2],[12,1],[14,36],[17,5],[18,246],]},{
stack: 21,
data:[[0,159],[1,20],[2,15],[3,13],[4,34],[5,114],[6,97],[7,73],[8,104],[9,62],[10,89],[11,2],[12,1],[14,37],[17,5],[18,245],]},{
stack: 22,
data:[[0,183],[1,26],[2,19],[3,19],[4,40],[5,126],[6,101],[7,75],[8,108],[9,68],[10,92],[11,2],[12,1],[14,40],[16,1],[17,4],[18,244],]},{
stack: 23,
data:[[0,193],[1,34],[2,23],[3,20],[4,44],[5,136],[6,110],[7,82],[8,115],[9,69],[10,97],[11,2],[12,1],[14,43],[17,4],[18,243],]},{
stack: 24,
data:[[0,218],[1,39],[2,30],[3,25],[4,50],[5,145],[6,118],[7,82],[8,118],[9,72],[10,99],[11,2],[12,1],[14,44],[17,5],[18,241],]},{
stack: 25,
data:[[0,235],[1,44],[2,37],[3,27],[4,53],[5,150],[6,120],[7,87],[8,126],[9,77],[10,101],[11,2],[12,1],[14,46],[17,6],[18,239],]},{
stack: 26,
data:[[0,256],[1,51],[2,40],[3,33],[4,56],[5,157],[6,128],[7,93],[8,131],[9,86],[10,105],[11,2],[12,1],[13,1],[14,49],[17,7],[18,236],]},{
stack: 27,
data:[[0,285],[1,56],[2,42],[3,39],[4,59],[5,159],[6,132],[7,97],[8,134],[9,91],[10,107],[11,2],[12,1],[14,51],[17,7],[18,235],]},{
stack: 28,
data:[[0,311],[1,63],[2,48],[3,45],[4,62],[5,174],[6,136],[7,101],[8,137],[9,92],[10,114],[11,2],[12,2],[14,53],[17,7],[18,234],]},{
stack: 29,
data:[[0,334],[1,69],[2,56],[3,51],[4,63],[5,187],[6,139],[7,109],[8,138],[9,93],[10,117],[11,2],[12,2],[14,56],[17,9],[18,231],]},{
stack: 30,
data:[[0,350],[1,71],[2,62],[3,62],[4,69],[5,191],[6,148],[7,111],[8,142],[9,98],[10,121],[11,2],[12,2],[14,57],[17,9],[18,230],]},{
stack: 31,
data:[[0,369],[1,79],[2,65],[3,63],[4,72],[5,202],[6,158],[7,114],[8,143],[9,105],[10,126],[11,2],[12,2],[14,59],[17,10],[18,228],]},{
stack: 32,
data:[[0,415],[1,81],[2,78],[3,69],[4,77],[5,211],[6,165],[7,117],[8,153],[9,109],[10,132],[11,2],[12,2],[14,60],[16,1],[17,11],[18,225],]},{
stack: 33,
data:[[0,432],[1,89],[2,81],[3,73],[4,83],[5,218],[6,169],[7,120],[8,156],[9,109],[10,137],[11,2],[12,2],[14,62],[15,1],[17,15],[18,220],]},{
stack: 34,
data:[[0,452],[1,96],[2,92],[3,76],[4,90],[5,224],[6,176],[7,126],[8,165],[9,115],[10,139],[11,2],[12,2],[14,64],[17,16],[18,218],]},{
stack: 35,
data:[[0,484],[1,103],[2,105],[3,80],[4,92],[5,229],[6,182],[7,131],[8,169],[9,123],[10,142],[11,2],[12,2],[14,66],[17,18],[18,215],]},{
stack: 36,
data:[[0,512],[1,107],[2,114],[3,85],[4,92],[5,240],[6,187],[7,135],[8,177],[9,123],[10,147],[11,2],[12,2],[14,68],[17,19],[18,213],]},{
stack: 37,
data:[[0,546],[1,117],[2,120],[3,95],[4,102],[5,255],[6,197],[7,136],[8,179],[9,128],[10,153],[11,2],[12,3],[14,69],[17,20],[18,211],]},{
stack: 38,
data:[[0,578],[1,117],[2,124],[3,98],[4,109],[5,260],[6,203],[7,141],[8,186],[9,133],[10,151],[11,2],[12,3],[14,71],[16,1],[17,20],[18,209],]},{
stack: 39,
data:[[0,601],[1,130],[2,137],[3,103],[4,109],[5,270],[6,205],[7,147],[8,190],[9,136],[10,154],[11,2],[12,3],[14,73],[15,1],[17,19],[18,208],]},{
stack: 40,
data:[[0,618],[1,135],[2,140],[3,103],[4,111],[5,279],[6,213],[7,153],[8,194],[9,138],[10,161],[11,3],[12,3],[14,75],[16,1],[17,19],[18,206],]},{
stack: 41,
data:[[0,651],[1,139],[2,146],[3,109],[4,115],[5,285],[6,222],[7,155],[8,200],[9,137],[10,164],[11,2],[12,3],[14,77],[16,1],[17,19],[18,205],]},{
stack: 42,
data:[[0,678],[1,149],[2,145],[3,115],[4,119],[5,298],[6,231],[7,154],[8,208],[9,141],[10,169],[11,3],[12,3],[14,78],[16,1],[17,21],[18,202],]},{
stack: 43,
data:[[0,699],[1,143],[2,145],[3,122],[4,122],[5,307],[6,234],[7,162],[8,209],[9,144],[10,174],[11,3],[12,3],[13,1],[14,80],[16,1],[17,22],[18,200],]},{
stack: 44,
data:[[0,720],[1,151],[2,159],[3,127],[4,131],[5,313],[6,239],[7,171],[8,219],[9,148],[10,175],[11,3],[12,3],[13,1],[14,82],[16,2],[17,22],[18,198],]},{
stack: 45,
data:[[0,737],[1,152],[2,162],[3,135],[4,131],[5,323],[6,246],[7,174],[8,217],[9,150],[10,182],[11,4],[12,3],[13,1],[14,85],[16,1],[17,22],[18,197],]},{
stack: 46,
data:[[0,765],[1,166],[2,172],[3,150],[4,130],[5,334],[6,255],[7,183],[8,220],[9,155],[10,183],[11,4],[12,3],[13,2],[14,86],[16,1],[17,24],[18,194],]},{
stack: 47,
data:[[0,806],[1,174],[2,183],[3,156],[4,141],[5,345],[6,265],[7,184],[8,226],[9,158],[10,187],[11,4],[12,3],[13,2],[14,88],[16,1],[17,24],[18,193],]},{
stack: 48,
data:[[0,822],[1,185],[2,193],[3,160],[4,143],[5,360],[6,272],[7,189],[8,226],[9,162],[10,191],[11,4],[12,3],[13,2],[14,89],[16,2],[17,24],[18,191],]},{
stack: 49,
data:[[0,845],[1,198],[2,202],[3,162],[4,154],[5,370],[6,278],[7,192],[8,235],[9,166],[10,194],[11,4],[12,3],[13,2],[14,90],[15,1],[16,1],[17,25],[18,189],]},{
stack: 50,
data:[[0,854],[1,206],[2,200],[3,163],[4,167],[5,374],[6,284],[7,200],[8,237],[9,169],[10,196],[11,4],[12,4],[13,1],[14,94],[16,1],[17,25],[18,188],]},{
stack: 51,
data:[[0,872],[1,211],[2,216],[3,171],[4,170],[5,385],[6,286],[7,203],[8,247],[9,171],[10,198],[11,5],[12,4],[13,2],[14,94],[16,1],[17,25],[18,187],]},{
stack: 52,
data:[[0,901],[1,220],[2,218],[3,178],[4,172],[5,392],[6,293],[7,211],[8,253],[9,172],[10,201],[11,5],[12,5],[13,2],[14,96],[16,1],[17,26],[18,185],]},{
stack: 53,
data:[[0,948],[1,227],[2,221],[3,179],[4,173],[5,404],[6,304],[7,216],[8,255],[9,176],[10,208],[11,6],[12,6],[13,4],[14,96],[16,1],[17,26],[18,184],]},{
stack: 54,
data:[[0,978],[1,235],[2,225],[3,188],[4,175],[5,415],[6,308],[7,225],[8,266],[9,182],[10,213],[11,6],[12,7],[13,5],[14,96],[15,1],[16,1],[17,27],[18,181],]},{
stack: 55,
data:[[0,1014],[1,243],[2,227],[3,193],[4,179],[5,431],[6,322],[7,230],[8,270],[9,182],[10,220],[11,6],[12,7],[13,5],[14,99],[16,1],[17,27],[18,180],]},{
stack: 56,
data:[[0,1057],[1,263],[2,234],[3,203],[4,185],[5,443],[6,326],[7,235],[8,274],[9,188],[10,223],[11,6],[12,7],[13,5],[14,101],[16,1],[17,28],[18,178],]},{
stack: 57,
data:[[0,1098],[1,277],[2,243],[3,215],[4,195],[5,455],[6,335],[7,242],[8,281],[9,189],[10,226],[11,7],[12,8],[13,5],[14,101],[16,1],[17,27],[18,177],]},{
stack: 58,
data:[[0,1122],[1,277],[2,248],[3,218],[4,200],[5,465],[6,338],[7,249],[8,286],[9,192],[10,231],[11,6],[12,8],[13,5],[14,102],[17,25],[18,176],]},{
stack: 59,
data:[[0,1144],[1,279],[2,252],[3,223],[4,201],[5,478],[6,346],[7,251],[8,291],[9,194],[10,239],[11,5],[12,8],[13,5],[14,102],[16,1],[17,21],[18,176],]},]
});


// Add mouse events for rotation
$(image_498_chart.container).on('mousedown.hc touchstart.hc', function(eStart) {
  eStart = image_498_chart.pointer.normalize(eStart);

  var posX = eStart.pageX,
    posY = eStart.pageY,
    alpha = image_498_chart.options.chart.options3d.alpha,
    beta = image_498_chart.options.chart.options3d.beta,
    newAlpha,
    newBeta,
    sensitivity = 5; // lower is more sensitive

  $(document).on({
    'mousemove.hc touchdrag.hc': function(e) {
      // Run beta
      newBeta = beta + (posX - e.pageX) / sensitivity;
      image_498_chart.options.chart.options3d.beta = newBeta;

      // Run alpha
      newAlpha = alpha + (e.pageY - posY) / sensitivity;
      image_498_chart.options.chart.options3d.alpha = newAlpha;

      image_498_chart.redraw(false);
    },
    'mouseup touchend': function() {
      $(document).off('.hc');
    }
  });

var image_498_button = $('#container').highcharts(),
        type = 1,
        types = ['linear', 'logarithmic'],
        lineColor = 'red';

    $('#image_498_button').click(function () {image_498.yAxis[0].update({
            type: types[type]
        });
type += 1;
        if (type === types.length) {
            type = 0;
        }
    });});
});

