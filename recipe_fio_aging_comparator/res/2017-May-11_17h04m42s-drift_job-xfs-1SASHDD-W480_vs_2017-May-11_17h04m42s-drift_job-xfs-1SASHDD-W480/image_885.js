
// Set up the chart
var image_885_chart;
$(document).ready(function () {image_885_chart= new Highcharts.Chart({

  chart: {
    renderTo: 'image_885',
    margin: 100,
    type: 'column',
    width: 700,
    height: 700,
    options3d: {
      enabled: true,
      alpha: 10,
      beta: 30,
      depth: 420,
      viewDistance: 5,
      fitToPlot: false,
      frame: {
        bottom: {
          size: 1,
          color: 'rgba(0,0,0,0.02)'
        },
        back: {
          size: 1,
          color: 'rgba(0,0,0,0.04)'
        },
        side: {
          size: 1,
          color: 'rgba(0,0,0,0.06)'
        }
      }
    }
  },
  title: {
    text: 'Draggable box'
  },
  subtitle: {
    text: 'Click and drag the plot area to rotate in space'
  },
  plotOptions: {
    column: {
      stacking: true,
      grouping: false,
      groupZPadding: 0,
      groupXPadding: 0,
      depth: 5
    }
  },
  yAxis: {

    min: 0.1,
    title: {text: 'Number of extents'}
  },
  xAxis: {
    categories: ['1K-1K', '2K-3K', '4K-7K', '8K-15K', '16K-31K', '32K-63K', '64K-127K', '128K-255K', '256K-511K', '512K-1023K', '1M-2M', '2M-4M', '4M-8M', '8M-16M', '16M-32M', '32M-65M', '65M-131M', '131M-262M', '16G-33G', '33G-36G'],
    gridLineWidth: 1,
title: {text: 'Extent size'}
  },
  zAxis: {
title: {text: 'Time'},
categories: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59],
    showFirstLabel: false

  },
  legend: {
    enabled: false
  },
  series: [{
stack: 0,
data:[[0,12],[19,3],]},{
stack: 1,
data:[[0,70],[1,32],[2,34],[3,24],[4,14],[5,7],[6,4],[7,2],[9,4],[10,2],[18,6],]},{
stack: 2,
data:[[0,386],[1,170],[2,94],[3,81],[4,62],[5,47],[6,20],[7,2],[8,6],[9,7],[10,4],[11,1],[12,1],[13,2],[18,6],]},{
stack: 3,
data:[[0,855],[1,403],[2,268],[3,199],[4,141],[5,103],[6,57],[7,14],[8,17],[9,7],[10,10],[12,1],[13,1],[18,6],]},{
stack: 4,
data:[[0,1342],[1,667],[2,468],[3,326],[4,220],[5,175],[6,108],[7,48],[8,14],[9,13],[10,8],[11,2],[14,1],[18,6],]},{
stack: 5,
data:[[0,1689],[1,938],[2,576],[3,364],[4,316],[5,245],[6,184],[7,130],[8,54],[9,26],[10,19],[11,5],[13,1],[14,2],[18,6],]},{
stack: 6,
data:[[0,1969],[1,1119],[2,694],[3,493],[4,385],[5,309],[6,224],[7,155],[8,97],[9,44],[10,11],[12,2],[13,2],[18,6],]},{
stack: 7,
data:[[0,2080],[1,1269],[2,736],[3,535],[4,429],[5,353],[6,268],[7,158],[8,84],[9,40],[10,30],[11,9],[12,4],[13,1],[18,6],]},{
stack: 8,
data:[[0,2188],[1,1383],[2,863],[3,609],[4,487],[5,423],[6,304],[7,177],[8,100],[9,54],[10,30],[11,9],[12,3],[13,5],[14,5],[18,6],]},{
stack: 9,
data:[[0,2163],[1,1442],[2,896],[3,627],[4,522],[5,464],[6,275],[7,179],[8,97],[9,71],[10,30],[11,11],[12,8],[13,1],[14,5],[18,6],]},{
stack: 10,
data:[[0,2219],[1,1545],[2,1040],[3,692],[4,525],[5,488],[6,302],[7,184],[8,97],[9,68],[10,23],[11,21],[12,4],[13,11],[14,3],[18,6],]},{
stack: 11,
data:[[0,2167],[1,1585],[2,1012],[3,707],[4,587],[5,462],[6,334],[7,241],[8,121],[9,62],[10,33],[11,15],[12,5],[13,6],[15,3],[18,6],]},{
stack: 12,
data:[[0,2267],[1,1606],[2,1021],[3,617],[4,563],[5,490],[6,379],[7,239],[8,140],[9,54],[10,35],[11,26],[12,10],[13,3],[14,1],[15,2],[18,6],]},{
stack: 13,
data:[[0,2147],[1,1628],[2,1044],[3,690],[4,607],[5,466],[6,328],[7,234],[8,151],[9,86],[10,37],[11,15],[12,8],[13,2],[14,4],[15,1],[18,6],]},{
stack: 14,
data:[[0,2173],[1,1624],[2,1031],[3,686],[4,601],[5,530],[6,343],[7,219],[8,132],[9,65],[10,49],[11,11],[12,12],[13,4],[14,1],[16,1],[18,6],]},{
stack: 15,
data:[[0,2158],[1,1620],[2,1014],[3,694],[4,628],[5,517],[6,375],[7,236],[8,129],[9,83],[10,47],[11,16],[12,6],[13,3],[14,1],[16,1],[18,6],]},{
stack: 16,
data:[[0,2291],[1,1562],[2,1003],[3,675],[4,634],[5,527],[6,344],[7,239],[8,155],[9,81],[10,51],[11,15],[12,7],[13,1],[14,3],[18,6],]},{
stack: 17,
data:[[0,2381],[1,1613],[2,1011],[3,669],[4,591],[5,511],[6,337],[7,244],[8,141],[9,70],[10,59],[11,20],[12,5],[13,6],[14,3],[18,6],]},{
stack: 18,
data:[[0,2424],[1,1542],[2,1011],[3,693],[4,574],[5,461],[6,345],[7,253],[8,153],[9,83],[10,42],[11,20],[12,6],[13,2],[14,7],[18,6],]},{
stack: 19,
data:[[0,2262],[1,1558],[2,1098],[3,691],[4,548],[5,487],[6,330],[7,225],[8,184],[9,91],[10,38],[11,12],[12,13],[13,3],[14,2],[18,6],]},{
stack: 20,
data:[[0,2259],[1,1529],[2,1055],[3,679],[4,569],[5,480],[6,326],[7,239],[8,179],[9,84],[10,50],[11,25],[12,8],[13,8],[14,3],[15,2],[18,6],]},{
stack: 21,
data:[[0,2255],[1,1497],[2,1025],[3,672],[4,617],[5,463],[6,324],[7,240],[8,155],[9,109],[10,42],[11,27],[12,8],[13,6],[14,5],[18,6],]},{
stack: 22,
data:[[0,2143],[1,1532],[2,1039],[3,700],[4,632],[5,440],[6,275],[7,248],[8,171],[9,95],[10,50],[11,30],[12,5],[13,8],[14,7],[18,6],]},{
stack: 23,
data:[[0,2163],[1,1514],[2,1110],[3,659],[4,635],[5,482],[6,304],[7,232],[8,147],[9,81],[10,42],[11,34],[12,11],[13,7],[14,5],[16,1],[18,6],]},{
stack: 24,
data:[[0,2146],[1,1507],[2,1043],[3,698],[4,651],[5,469],[6,323],[7,237],[8,133],[9,90],[10,61],[11,25],[12,6],[13,7],[14,7],[15,2],[18,6],]},{
stack: 25,
data:[[0,2197],[1,1461],[2,1006],[3,679],[4,594],[5,479],[6,343],[7,247],[8,105],[9,99],[10,56],[11,23],[12,9],[13,10],[14,7],[15,2],[18,6],]},{
stack: 26,
data:[[0,2173],[1,1396],[2,962],[3,674],[4,618],[5,500],[6,354],[7,254],[8,107],[9,74],[10,40],[11,32],[12,12],[13,8],[14,5],[15,1],[18,6],]},{
stack: 27,
data:[[0,2123],[1,1448],[2,965],[3,622],[4,590],[5,494],[6,377],[7,245],[8,117],[9,63],[10,22],[11,29],[12,16],[13,5],[14,5],[15,1],[18,6],]},{
stack: 28,
data:[[0,2283],[1,1437],[2,947],[3,640],[4,594],[5,511],[6,335],[7,228],[8,140],[9,61],[10,31],[11,19],[12,14],[13,2],[14,6],[15,1],[18,6],]},{
stack: 29,
data:[[0,2300],[1,1536],[2,977],[3,605],[4,593],[5,518],[6,367],[7,221],[8,118],[9,62],[10,31],[11,25],[12,7],[13,7],[14,7],[18,6],]},{
stack: 30,
data:[[0,2222],[1,1516],[2,1007],[3,646],[4,582],[5,474],[6,354],[7,221],[8,102],[9,75],[10,61],[11,26],[12,4],[13,7],[14,3],[15,3],[18,6],]},{
stack: 31,
data:[[0,2128],[1,1445],[2,1023],[3,669],[4,649],[5,441],[6,328],[7,221],[8,124],[9,88],[10,53],[11,17],[12,7],[13,4],[14,2],[15,2],[16,1],[18,6],]},{
stack: 32,
data:[[0,2189],[1,1476],[2,976],[3,604],[4,577],[5,494],[6,322],[7,213],[8,129],[9,94],[10,47],[11,19],[12,12],[13,6],[14,1],[15,1],[18,6],]},{
stack: 33,
data:[[0,2119],[1,1457],[2,999],[3,588],[4,607],[5,461],[6,314],[7,225],[8,122],[9,103],[10,36],[11,22],[12,15],[13,7],[14,3],[15,3],[18,6],]},{
stack: 34,
data:[[0,2227],[1,1517],[2,1026],[3,611],[4,600],[5,438],[6,335],[7,218],[8,129],[9,91],[10,34],[11,18],[12,12],[13,13],[14,2],[16,1],[18,6],]},{
stack: 35,
data:[[0,2104],[1,1530],[2,1009],[3,586],[4,623],[5,434],[6,334],[7,216],[8,134],[9,86],[10,59],[11,6],[12,8],[13,7],[14,7],[18,6],]},{
stack: 36,
data:[[0,2150],[1,1519],[2,1100],[3,596],[4,653],[5,401],[6,317],[7,200],[8,143],[9,82],[10,49],[11,28],[12,10],[13,7],[14,5],[15,2],[18,6],]},{
stack: 37,
data:[[0,2164],[1,1472],[2,1016],[3,632],[4,667],[5,451],[6,307],[7,216],[8,136],[9,60],[10,50],[11,31],[12,14],[13,5],[14,5],[16,2],[18,6],]},{
stack: 38,
data:[[0,2210],[1,1397],[2,1002],[3,638],[4,580],[5,473],[6,327],[7,200],[8,131],[9,68],[10,31],[11,35],[12,17],[13,1],[14,5],[15,1],[16,2],[18,6],]},{
stack: 39,
data:[[0,2233],[1,1413],[2,949],[3,690],[4,620],[5,437],[6,328],[7,227],[8,129],[9,64],[10,31],[11,27],[12,14],[13,4],[14,5],[16,2],[18,6],]},{
stack: 40,
data:[[0,2208],[1,1419],[2,971],[3,679],[4,578],[5,493],[6,321],[7,244],[8,138],[9,69],[10,44],[11,22],[12,11],[13,8],[15,3],[16,2],[18,6],]},{
stack: 41,
data:[[0,2069],[1,1448],[2,979],[3,707],[4,566],[5,501],[6,298],[7,191],[8,154],[9,76],[10,40],[11,13],[12,8],[14,2],[15,2],[17,2],[18,6],]},{
stack: 42,
data:[[0,2164],[1,1382],[2,1056],[3,618],[4,481],[5,481],[6,332],[7,152],[8,117],[9,96],[10,44],[11,15],[12,11],[13,3],[14,1],[17,2],[18,6],]},{
stack: 43,
data:[[0,2155],[1,1406],[2,1047],[3,633],[4,520],[5,452],[6,363],[7,186],[8,130],[9,87],[10,37],[11,12],[12,14],[13,1],[14,3],[17,2],[18,6],]},{
stack: 44,
data:[[0,2059],[1,1419],[2,1034],[3,684],[4,608],[5,464],[6,351],[7,199],[8,124],[9,87],[10,39],[11,16],[12,11],[13,5],[14,2],[17,2],[18,6],]},{
stack: 45,
data:[[0,2218],[1,1483],[2,1022],[3,646],[4,568],[5,451],[6,363],[7,196],[8,136],[9,63],[10,36],[11,17],[12,9],[13,6],[14,4],[18,6],]},{
stack: 46,
data:[[0,2214],[1,1469],[2,1050],[3,681],[4,586],[5,466],[6,350],[7,203],[8,125],[9,71],[10,34],[11,24],[12,12],[13,5],[14,3],[18,6],]},{
stack: 47,
data:[[0,2230],[1,1448],[2,1031],[3,678],[4,612],[5,442],[6,390],[7,205],[8,129],[9,81],[10,39],[11,19],[12,12],[13,4],[14,4],[18,6],]},{
stack: 48,
data:[[0,2198],[1,1412],[2,977],[3,654],[4,587],[5,455],[6,378],[7,221],[8,141],[9,85],[10,53],[11,20],[12,5],[13,7],[14,6],[18,6],]},{
stack: 49,
data:[[0,2230],[1,1361],[2,1063],[3,662],[4,599],[5,482],[6,326],[7,210],[8,115],[9,78],[10,66],[11,29],[12,9],[13,4],[14,3],[15,2],[18,6],]},{
stack: 50,
data:[[0,2194],[1,1382],[2,1109],[3,654],[4,578],[5,513],[6,309],[7,225],[8,98],[9,79],[10,66],[11,24],[12,12],[13,3],[14,2],[15,1],[18,6],]},{
stack: 51,
data:[[0,2206],[1,1394],[2,1061],[3,652],[4,527],[5,490],[6,348],[7,225],[8,126],[9,69],[10,47],[11,21],[12,18],[13,4],[14,1],[18,6],]},{
stack: 52,
data:[[0,2369],[1,1405],[2,1002],[3,637],[4,568],[5,504],[6,363],[7,178],[8,117],[9,79],[10,51],[11,26],[12,12],[13,11],[15,2],[18,6],]},{
stack: 53,
data:[[0,2238],[1,1466],[2,996],[3,662],[4,539],[5,493],[6,327],[7,222],[8,116],[9,82],[10,56],[11,10],[12,17],[13,5],[14,5],[15,1],[18,6],]},{
stack: 54,
data:[[0,2232],[1,1473],[2,1004],[3,646],[4,573],[5,554],[6,345],[7,215],[8,101],[9,73],[10,41],[11,21],[12,9],[13,4],[14,2],[15,2],[18,6],]},{
stack: 55,
data:[[0,2226],[1,1526],[2,1056],[3,594],[4,584],[5,521],[6,331],[7,211],[8,148],[9,81],[10,47],[11,17],[12,14],[13,2],[14,1],[15,1],[18,6],]},{
stack: 56,
data:[[0,2296],[1,1557],[2,1045],[3,650],[4,583],[5,454],[6,326],[7,241],[8,153],[9,83],[10,45],[11,26],[12,16],[13,11],[14,1],[15,3],[18,6],]},{
stack: 57,
data:[[0,2247],[1,1551],[2,1037],[3,659],[4,564],[5,435],[6,325],[7,233],[8,159],[9,89],[10,26],[11,23],[12,23],[13,4],[14,2],[15,2],[18,6],]},{
stack: 58,
data:[[0,2299],[1,1491],[2,1028],[3,653],[4,584],[5,454],[6,304],[7,243],[8,163],[9,86],[10,41],[11,23],[12,25],[13,10],[14,1],[15,1],[18,6],]},{
stack: 59,
data:[[0,2221],[1,1577],[2,1002],[3,634],[4,561],[5,422],[6,309],[7,212],[8,138],[9,100],[10,44],[11,19],[12,22],[13,5],[14,5],[15,1],[18,6],]},]
});


// Add mouse events for rotation
$(image_885_chart.container).on('mousedown.hc touchstart.hc', function(eStart) {
  eStart = image_885_chart.pointer.normalize(eStart);

  var posX = eStart.pageX,
    posY = eStart.pageY,
    alpha = image_885_chart.options.chart.options3d.alpha,
    beta = image_885_chart.options.chart.options3d.beta,
    newAlpha,
    newBeta,
    sensitivity = 5; // lower is more sensitive

  $(document).on({
    'mousemove.hc touchdrag.hc': function(e) {
      // Run beta
      newBeta = beta + (posX - e.pageX) / sensitivity;
      image_885_chart.options.chart.options3d.beta = newBeta;

      // Run alpha
      newAlpha = alpha + (e.pageY - posY) / sensitivity;
      image_885_chart.options.chart.options3d.alpha = newAlpha;

      image_885_chart.redraw(false);
    },
    'mouseup touchend': function() {
      $(document).off('.hc');
    }
  });

var image_885_button = $('#container').highcharts(),
        type = 1,
        types = ['linear', 'logarithmic'],
        lineColor = 'red';

    $('#image_885_button').click(function () {image_885.yAxis[0].update({
            type: types[type]
        });
type += 1;
        if (type === types.length) {
            type = 0;
        }
    });});
});

