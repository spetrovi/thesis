

// Set up the chart
var image_953_chart;
$(document).ready(function () {
    Highcharts.setOptions({ // Apply to all charts
        chart: {
            events: {
                beforePrint: function () {
                    this.oldhasUserSize = this.hasUserSize;
                    this.resetParams = [this.chartWidth, this.chartHeight, false];
                    this.setSize(550, 550, false);
                },
                afterPrint: function () {
                    this.setSize.apply(this, this.resetParams);
                    this.hasUserSize = this.oldhasUserSize;
                }
            }
        }
    });

image_953_chart= new Highcharts.Chart({

  chart: {
    renderTo: 'image_953',
    margin: 100,
    type: 'column',
    width: 900,
    height: 900,
    options3d: {
      enabled: true,
      alpha: 10,
      beta: 30,
      depth: 287,
      viewDistance: 5,
      fitToPlot: true,
      frame: {
        bottom: {
          size: 1,
          color: 'rgba(0,0,0,0.02)'
        },
        back: {
          size: 1,
          color: 'rgba(0,0,0,0.04)'
        },
        side: {
          size: 1,
          color: 'rgba(0,0,0,0.06)'
        }
      }
    }
  },
  title: {
    text: 'Draggable box'
  },
  subtitle: {
    text: 'Click and drag the plot area to rotate in space'
  },
  plotOptions: {
    column: {
      stacking: true,
      grouping: false,
      groupZPadding: 0,
      groupXPadding: 0,
      depth: 5
    }
  },
  yAxis: {

    min: 0.1,
    title: {text: 'Number of extents'}
  },
  xAxis: {
    categories: ['4K-8K', '8K-16K', '16K-32K', '32K-64K', '64K-128K', '128K-256K', '256K-512K', '512K-1024K', '1M-2M', '2M-4M', '4M-8M', '8M-16M', '16M-32M', '32M-64M', '64M-128M', '128M-256M', '256M-512M', '512M-1024M', '1G-2G'],
    gridLineWidth: 1,
title: {text: 'Extent size'}
  },
  zAxis: {
title: {text: 'Time'},
categories: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40],
    showFirstLabel: false

  },
  legend: {
    enabled: false
  },
  series: [{
stack: 0,
data:[[0,2],[14,5],[15,5],[16,2],[17,4],[18,55],]},{
stack: 1,
data:[[0,6],[2,2],[3,1],[4,11],[5,32],[6,21],[7,25],[8,28],[9,15],[10,27],[14,13],[16,5],[17,2],[18,46],]},{
stack: 2,
data:[[0,23],[1,5],[2,3],[3,3],[4,18],[5,65],[6,47],[7,46],[8,57],[9,26],[10,57],[14,22],[16,3],[17,4],[18,36],]},{
stack: 3,
data:[[0,74],[1,6],[2,4],[3,6],[4,20],[5,97],[6,81],[7,69],[8,80],[9,42],[10,78],[12,1],[13,2],[14,29],[17,4],[18,27],]},{
stack: 4,
data:[[0,152],[1,25],[2,12],[3,15],[4,26],[5,123],[6,95],[7,83],[8,90],[9,57],[10,90],[11,2],[12,2],[14,37],[17,1],[18,18],]},{
stack: 5,
data:[[0,169],[1,20],[2,18],[3,16],[4,31],[5,136],[6,101],[7,90],[8,91],[9,59],[10,89],[11,3],[12,3],[13,1],[14,45],[16,2],[18,9],]},{
stack: 6,
data:[[0,345],[1,18],[2,14],[3,15],[4,30],[5,144],[6,115],[7,86],[8,97],[9,61],[10,89],[11,5],[12,2],[13,4],[14,50],[16,1],]},{
stack: 7,
data:[[0,23705],[1,6334],[2,4626],[3,3486],[4,2105],[5,1402],[6,1176],[7,767],[8,592],[9,195],[10,136],[11,20],[12,2],[13,10],[14,38],]},{
stack: 8,
data:[[0,38944],[1,14494],[2,8926],[3,6892],[4,4195],[5,2326],[6,2008],[7,1353],[8,959],[9,384],[10,207],[11,37],[12,2],[13,13],[14,32],]},{
stack: 9,
data:[[0,47833],[1,21911],[2,13136],[3,9892],[4,6323],[5,2937],[6,2614],[7,1907],[8,1281],[9,582],[10,269],[11,41],[12,5],[13,12],[14,28],]},{
stack: 10,
data:[[0,52342],[1,28408],[2,17207],[3,12815],[4,8565],[5,3554],[6,3143],[7,2359],[8,1588],[9,768],[10,362],[11,67],[12,5],[13,9],[14,22],]},{
stack: 11,
data:[[0,54071],[1,33231],[2,20924],[3,15492],[4,10650],[5,3989],[6,3497],[7,2763],[8,1859],[9,854],[10,453],[11,84],[12,11],[13,13],[14,21],]},{
stack: 12,
data:[[0,53264],[1,36377],[2,24278],[3,17805],[4,12635],[5,4234],[6,3652],[7,2941],[8,2021],[9,934],[10,501],[11,109],[12,22],[13,14],[14,23],[15,1],]},{
stack: 13,
data:[[0,51740],[1,38011],[2,26524],[3,19655],[4,14207],[5,4581],[6,3844],[7,2983],[8,2183],[9,1033],[10,569],[11,116],[12,28],[13,18],[14,22],]},{
stack: 14,
data:[[0,49812],[1,36839],[2,25903],[3,19041],[4,13110],[5,3614],[6,3074],[7,2472],[8,1793],[9,669],[10,281],[11,13],[12,1],[13,3],[14,11],]},{
stack: 15,
data:[[0,51523],[1,38625],[2,28858],[3,21566],[4,15427],[5,4520],[6,3546],[7,2849],[8,2117],[9,931],[10,386],[11,43],[12,4],[13,5],[14,11],]},{
stack: 16,
data:[[0,51440],[1,39841],[2,31000],[3,23695],[4,17564],[5,5462],[6,3982],[7,3197],[8,2396],[9,1131],[10,508],[11,68],[12,5],[13,5],[14,11],]},{
stack: 17,
data:[[0,49376],[1,39962],[2,32307],[3,25357],[4,19012],[5,6131],[6,4148],[7,3354],[8,2546],[9,1219],[10,565],[11,104],[12,20],[13,13],[14,11],]},{
stack: 18,
data:[[0,46315],[1,38488],[2,30914],[3,23942],[4,18005],[5,5189],[6,3340],[7,2858],[8,2241],[9,725],[10,157],[11,12],[12,1],[13,3],[14,10],]},{
stack: 19,
data:[[0,48119],[1,38492],[2,32700],[3,25828],[4,19994],[5,6371],[6,3886],[7,3218],[8,2480],[9,1012],[10,315],[11,45],[12,4],[13,3],[14,10],]},{
stack: 20,
data:[[0,47177],[1,38382],[2,33654],[3,27384],[4,21762],[5,7312],[6,4136],[7,3450],[8,2645],[9,1228],[10,430],[11,83],[12,24],[13,7],[14,11],]},{
stack: 21,
data:[[0,43406],[1,35980],[2,31720],[3,25541],[4,20554],[5,6450],[6,3441],[7,3021],[8,2288],[9,659],[10,23],[11,5],[13,3],[14,9],]},{
stack: 22,
data:[[0,44924],[1,36287],[2,32952],[3,27299],[4,22036],[5,7420],[6,3833],[7,3178],[8,2459],[9,859],[10,212],[11,43],[12,3],[13,4],[14,9],]},{
stack: 23,
data:[[0,45719],[1,36453],[2,33843],[3,28972],[4,23619],[5,8459],[6,4179],[7,3406],[8,2624],[9,1091],[10,434],[11,62],[12,6],[13,4],[14,9],]},{
stack: 24,
data:[[0,40396],[1,33822],[2,30953],[3,26331],[4,22124],[5,7472],[6,3374],[7,2829],[8,2204],[9,316],[10,4],[11,4],[12,1],[13,3],[14,9],]},{
stack: 25,
data:[[0,44086],[1,34399],[2,32027],[3,27788],[4,23586],[5,8773],[6,3957],[7,3168],[8,2420],[9,670],[10,185],[11,29],[12,8],[13,3],[14,9],]},{
stack: 26,
data:[[0,44615],[1,35135],[2,32915],[3,29591],[4,25155],[5,9776],[6,4507],[7,3380],[8,2655],[9,972],[10,322],[11,59],[12,12],[13,4],[14,10],]},{
stack: 27,
data:[[0,45045],[1,35640],[2,33484],[3,30924],[4,26589],[5,10850],[6,5040],[7,3646],[8,2876],[9,1211],[10,455],[11,60],[12,11],[13,4],[14,9],]},{
stack: 28,
data:[[0,40569],[1,32959],[2,31298],[3,29184],[4,25341],[5,10181],[6,4464],[7,3253],[8,2554],[9,511],[10,1],[11,6],[12,2],[13,3],[14,9],]},{
stack: 29,
data:[[0,43566],[1,33258],[2,31302],[3,30315],[4,26740],[5,11355],[6,5220],[7,3606],[8,2846],[9,881],[10,148],[11,24],[12,2],[13,4],[14,9],]},{
stack: 30,
data:[[0,43476],[1,33120],[2,31419],[3,30872],[4,27783],[5,12414],[6,5781],[7,3897],[8,3049],[9,1202],[10,296],[11,37],[12,3],[13,4],[14,9],]},{
stack: 31,
data:[[0,37495],[1,28965],[2,27902],[3,27871],[4,25594],[5,11443],[6,5007],[7,3371],[8,2541],[9,299],[11,6],[12,2],[13,4],[14,6],]},{
stack: 32,
data:[[0,41292],[1,29440],[2,27797],[3,28279],[4,26501],[5,12579],[6,5819],[7,3774],[8,2820],[9,808],[10,164],[11,16],[12,3],[13,4],[14,6],]},{
stack: 33,
data:[[0,42478],[1,30590],[2,28323],[3,28849],[4,27297],[5,13391],[6,6387],[7,4066],[8,3052],[9,1184],[10,347],[11,39],[12,14],[13,4],[14,6],]},{
stack: 34,
data:[[0,37208],[1,27716],[2,25904],[3,26610],[4,25780],[5,12519],[6,5629],[7,3547],[8,2661],[9,280],[10,5],[11,8],[13,5],[14,5],]},{
stack: 35,
data:[[0,40562],[1,29338],[2,27307],[3,27762],[4,26772],[5,13479],[6,6426],[7,3926],[8,2960],[9,751],[10,179],[11,18],[12,1],[13,5],[14,5],]},{
stack: 36,
data:[[0,41046],[1,30299],[2,28124],[3,28628],[4,27705],[5,14027],[6,6882],[7,4054],[8,3139],[9,1076],[10,346],[11,71],[12,4],[13,5],[14,5],]},{
stack: 37,
data:[[0,36221],[1,27322],[2,25506],[3,26624],[4,26128],[5,13135],[6,6111],[7,3539],[8,2685],[9,257],[10,6],[11,9],[13,3],[14,5],]},{
stack: 38,
data:[[0,40171],[1,28608],[2,26671],[3,27694],[4,27244],[5,13976],[6,6757],[7,3878],[8,2977],[9,785],[10,197],[11,23],[12,3],[13,3],[14,4],]},{
stack: 39,
data:[[0,34389],[1,24122],[2,22249],[3,23909],[4,25101],[5,13082],[6,6092],[7,3222],[8,1715],[9,83],[10,2],[11,5],[14,2],]},{
stack: 40,
data:[[0,38324],[1,26635],[2,23886],[3,25255],[4,26023],[5,13696],[6,6629],[7,3550],[8,2108],[9,513],[10,175],[11,47],[12,9],[13,1],[14,2],]},]
});


// Add mouse events for rotation
$(image_953_chart.container).on('mousedown.hc touchstart.hc', function(eStart) {
  eStart = image_953_chart.pointer.normalize(eStart);

  var posX = eStart.pageX,
    posY = eStart.pageY,
    alpha = image_953_chart.options.chart.options3d.alpha,
    beta = image_953_chart.options.chart.options3d.beta,
    newAlpha,
    newBeta,
    sensitivity = 5; // lower is more sensitive

  $(document).on({
    'mousemove.hc touchdrag.hc': function(e) {
      // Run beta
      newBeta = beta + (posX - e.pageX) / sensitivity;
      image_953_chart.options.chart.options3d.beta = newBeta;

      // Run alpha
      newAlpha = alpha + (e.pageY - posY) / sensitivity;
      image_953_chart.options.chart.options3d.alpha = newAlpha;

      image_953_chart.redraw(false);
    },
    'mouseup touchend': function() {
      $(document).off('.hc');
    }
  });

var image_953_button = $('#container').highcharts(),
        type = 1,
        types = ['linear', 'logarithmic'],
        lineColor = 'red';

    $('#image_953_button').click(function () {image_953.yAxis[0].update({
            type: types[type]
        });
type += 1;
        if (type === types.length) {
            type = 0;
        }
    });});
});

